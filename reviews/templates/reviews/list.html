{% extends 'reviews/base.html' %}
{% block content %}

<form method="get" action="{% url 'reviews:list' %}">
  음식점 검색 : <input type="text" name="store_name">
  <input type="submit" value="검색">
</form>

<body style='margin:30px;'>
  <table class='table table-striped'>
  <tr>
    <td>게시글 번호</td>
    <td>작성자</td>
    <td>제목</td>
    <td>음식점 이름</td>
    <td>작성일자</td>
  </tr>
  {% for item in info %}
  <tr>
    <td>{{ item.id }}</td>
    <td>{{ item.member_id.user_id }}</td>
    <td>{{ item.title }}</td>
    <td>{{ item.store_name }}</td>
    <td>{{ item.date }}</td>
  </tr>
  {% endfor %}
  </table>


  <style>
    .pagination {
      display: inline-block;
    }
    
    .pagination a {
      color: white;
      float: left;
      padding: 8px 16px;
      text-decoration: none;
    }
  </style>


  <div style='text-align:center;'>
    <ul class='pagination'>
      <td>{{ store_name }}</td>
      {% if has_previous == 1 %}
        <a href='{% url "reviews:list" %}?page={{ start_page | add:"-1" }}&?store_name={{ store_name }}'>
          {{ "[Prev]" }}
        </a>
      {% endif %}
      {% for i in page_range %}

        {% if i == now_page %}
          <a href='{% url "reviews:list" %}?page={{ i }}&?store_name={{ store_name }}' style="color: green">
            {{ i }}
          </a>
        {%else %}
          <a href='{% url "reviews:list" %}?page={{ i }}&?store_name={{ store_name }}'>
            {{ i }}
          </a>
        {% endif %}

      {% endfor %}
      {% if has_next == 1  %}
        <a href='{% url "reviews:list" %}?page={{ end_page | add:"+1" }}&?store_name={{ store_name }}'>
          {{ "[Next]" }}
        </a>
      {% endif %}

    </ul>
  </div>
</body>

{% endblock %}